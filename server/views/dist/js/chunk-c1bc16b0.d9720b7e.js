(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1bc16b0"],{"117a":function(n,e,o){"use strict";var t=o("e4d3"),s=o.n(t);s.a},"17e4":function(n,e,o){"use strict";o.r(e);var t=function(){var n=this,e=n.$createElement;n._self._c;return n._m(0)},s=[function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",[o("h1",[n._v("云信 Web SDK Online Test")]),o("div",[o("p",[o("span",[n._v("APPKEY:")]),o("input",{attrs:{type:"text",id:"appkey",value:"45c6af3c98409b18a84451215d0bdd6e"}})]),o("p",[o("span",[n._v("ACCOUNT:")]),o("input",{attrs:{type:"text",id:"account",value:"greatcs4"}})]),o("p",[o("span",[n._v("TOKEN:")]),o("input",{attrs:{type:"text",id:"token",value:"e10adc3949ba59abbe56e057f20f883e"}})]),o("p",[o("button",{attrs:{id:"connect-sdk"}},[n._v("连接SDK")])])]),o("div",[o("button",{attrs:{id:"sendText",click:""}},[n._v("发送消息")])])])}],c={name:"WyIm",mounted:function(){document.getElementById("sendText").addEventListener("click",function(){c()},!1);var n={};function e(){var n=document.getElementById("appkey").value,e=document.getElementById("account").value,c=document.getElementById("token").value;window.nim=NIM.getInstance({appKey:n,account:e,token:c,onconnect:function(){alert("SDK 连接成功"),window.nim.sendText({scene:"p2p",to:"account",text:"hello",done:function(n){}})},ondisconnect:function(n){console.log("SDK 连接断开",n)},onerror:function(n){console.log("SDK 连接失败",n)},onroamingmsgs:o,onofflinemsgs:t,onmsg:s,onfriends:l,onsyncfriendaction:u,onsessions:m,onupdatesession:w})}function o(n){console.log("收到漫游消息",n),i(n.msgs)}function t(n){console.log("收到离线消息",n),i(n.msgs)}function s(n){switch(console.log("收到消息",n.scene,n.type,n),i(n),n.type){case"custom":d(n);break;case"notification":a(n);break;default:break}}function c(){var n=window.nim.sendText({scene:"p2p",to:"account",text:"hello",done:e});function e(n,e){console.log(n),console.log(e),console.log("发送"+e.scene+" "+e.type+"消息"+(n?"失败":"成功")+", id="+e.idClient),i(e)}console.log("正在发送p2p text消息, id="+n.idClient),i(n)}function i(n){console.log("pushMsg",n)}function d(n){console.log("onCustomMsg",n)}function a(n){console.log("onTeamNotificationMsg",n)}function l(e){console.log("收到好友列表",e),n.friends=window.nim.mergeFriends(n.friends,e),n.friends=window.nim.cutFriends(n.friends,e.invalid),g()}function u(n){switch(console.log(n),n.type){case"addFriend":console.log("你在其它端直接加了一个好友"+n.account+", 附言"+n.ps),r(n.friend);break;case"applyFriend":console.log("你在其它端申请加了一个好友"+n.account+", 附言"+n.ps);break;case"passFriendApply":console.log("你在其它端通过了一个好友申请"+n.account+", 附言"+n.ps),r(n.friend);break;case"rejectFriendApply":console.log("你在其它端拒绝了一个好友申请"+n.account+", 附言"+n.ps);break;case"deleteFriend":console.log("你在其它端删了一个好友"+n.account),f(n.account);break;case"updateFriend":console.log("你在其它端更新了一个好友",n.friend),p(n.friend);break}}function r(e){n.friends=window.nim.mergeFriends(n.friends,e),g()}function f(e){n.friends=window.nim.cutFriendsByAccounts(n.friends,e),g()}function p(e){n.friends=window.nim.mergeFriends(n.friends,e),g()}function g(){}function m(e){console.log("收到会话列表",e),n.sessions=window.nim.mergeSessions(n.sessions,e),v()}function w(e){console.log("会话更新了",e),n.sessions=window.nim.mergeSessions(n.sessions,e),v()}function v(){}document.getElementById("connect-sdk").addEventListener("click",function(){e()})},methods:{}},i=c,d=(o("117a"),o("2877")),a=Object(d["a"])(i,t,s,!1,null,"7d31d2f4",null);a.options.__file="WyIm.vue";e["default"]=a.exports},e4d3:function(n,e,o){}}]);
//# sourceMappingURL=chunk-c1bc16b0.d9720b7e.js.map